# üöÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏ –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏** (–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫) –∏ **—Å–∫–æ—Ä–æ—Å—Ç–∏** (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤) —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞, **–±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –±–∏—Ä–∂**.

---

## ‚úÖ 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ NaN –∏ Infinity –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–Ω –∏ –∫—É—Ä—Å–æ–≤
- –í–æ–∑–º–æ–∂–Ω—ã –æ—à–∏–±–∫–∏ –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –Ω–∞ –Ω–æ–ª—å

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `utils.py` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

```python
- is_valid_number() - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ NaN, Infinity, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- validate_price() - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω
- validate_rate() - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—É—Ä—Å–æ–≤ –æ–±–º–µ–Ω–∞
```

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω Bybit –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É—Ä—Å–æ–≤ BestChange –ø–µ—Ä–µ–¥ —Ä–∞—Å—á–µ—Ç–∞–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—Å–µ—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø—Ä–µ–¥–∞ –∏ –ø—Ä–∏–±—ã–ª–∏ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ—Ç —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–µ –ø–∞–¥–∞–µ—Ç –Ω–∞ NaN/Infinity –∑–Ω–∞—á–µ–Ω–∏—è—Ö.

---

## ‚úÖ 2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL (–°–∫–æ—Ä–æ—Å—Ç—å + –ü–∞–º—è—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞
- –ö—ç—à –≥–æ—Ä—è—á–∏—Ö –ø–∞—Ä –º–æ–≥ —Ä–∞—Å—Ç–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –ø–∞—Ä

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `TTLCache` —Å:
- **TTL (Time To Live)** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π
- **LRU (Least Recently Used)** - —É–¥–∞–ª–µ–Ω–∏–µ —Å–∞–º—ã—Ö —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞** - –∑–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:**
- ‚úÖ –ö—ç—à –≥–æ—Ä—è—á–∏—Ö –ø–∞—Ä (`hot_pairs_cache`) - TTL 10 –º–∏–Ω—É—Ç, —Ä–∞–∑–º–µ—Ä –¥–æ 100 –ø–∞—Ä
- ‚úÖ –ö—ç—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä (`pair_check_cache`) - TTL 30 —Å–µ–∫—É–Ω–¥, —Ä–∞–∑–º–µ—Ä –¥–æ 1000 –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –∑–∞–ø–∏—Å–µ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –£–º–µ–Ω—å—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ò–∑–±–µ–≥–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –ø–∞—Ä
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

## ‚úÖ 3. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–°–∫–æ—Ä–æ—Å—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∫–æ–º–∏—Å—Å–∏–π
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å—É–º–º

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `MemoizedCalculator` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:
- –†–∞—Å—á–µ—Ç—ã –∫–æ–º–∏—Å—Å–∏–π Bybit
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å—É–º–º –ø–æ –∫—É—Ä—Å–∞–º
- TTL 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:**
- ‚úÖ –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π `_calculate_bybit_fees()` - –∫—ç—à–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—É–º–º `convert_amount()` - –∫—ç—à–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ –Ω–∞ 20-40%** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ–ø–µ—Ä–∞—Ü–∏–π
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ CPU

---

## ‚úÖ 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä (–°–∫–æ—Ä–æ—Å—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞
- –ù–µ—Ç —Ä–∞–Ω–Ω–µ–≥–æ –≤—ã—Ö–æ–¥–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –ø–∞—Ä
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

### –†–µ—à–µ–Ω–∏–µ
**–†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É—Ä—Å–æ–≤ –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ò–∑–±–µ–≥–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
- ‚úÖ –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥ –ø—Ä–∏ –Ω–∏–∑–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `set` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –ø–∞—Ä

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä –Ω–∞ 15-25%**
- –ú–µ–Ω—å—à–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤

---

## ‚úÖ 5. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞
- –û–±—â–∏–π `except Exception` —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ù–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫

### –†–µ—à–µ–Ω–∏–µ
**–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
```python
except (ZeroDivisionError, ValueError, TypeError, KeyError) as e:
    # –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º None
    return None
except Exception:
    # –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ - –ª–æ–≥–∏—Ä—É–µ–º
    return None
```

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:**
- ‚úÖ `_check_single_pair()` - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á–µ—Ç–æ–º

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –º–µ–Ω—å—à–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –ø–∞–¥–µ–Ω–∏–π.

---

## ‚úÖ 6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–°–∫–æ—Ä–æ—Å—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –º–æ–Ω–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–∞—Ä –≤ —Å–ø–∏—Å–∫–µ

### –†–µ—à–µ–Ω–∏–µ
**–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
- ‚úÖ –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥ –ø—Ä–∏ –Ω–∏–∑–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (–ø—Ä–æ–ø—É—Å–∫ –º–æ–Ω–µ—Ç —Å score < 30)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `set` –¥–ª—è O(1) –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –ø–∞—Ä
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:**
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–∏–∫–≤–∏–¥–Ω—ã—Ö –º–æ–Ω–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –≥–æ—Ä—è—á–∏—Ö –ø–∞—Ä

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ 10-15%**
- –ú–µ–Ω—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –¥–∞–Ω–Ω—ã–º–∏

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö° **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤:** 20-40% (–±–ª–∞–≥–æ–¥–∞—Ä—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏)
- ‚ö° **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä:** 15-25% (—Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚ö° **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:** 10-15% (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- üíæ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ (TTL –∫—ç—à–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞)

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –í—Å–µ —Ü–µ–Ω—ã, –∫—É—Ä—Å—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç NaN/Infinity:** –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –¥–µ–ª–µ–Ω–∏—è–º–∏

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- üîí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- üîí **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** TTL –∏ LRU —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- üîí **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –ú–µ–Ω—å—à–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `utils.py` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `exchange_arbitrage_analyzer.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ù–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
- `TTLCache` - –∫—ç—à —Å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
- `MemoizedCalculator` - –º–µ–º–æ–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `is_valid_number()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–∏—Å–µ–ª
- `validate_price()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω
- `validate_rate()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—É—Ä—Å–æ–≤

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –°–æ–∫—Ä–∞—â–µ–Ω–æ –Ω–∞ 10-15%
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–π –ø–∞—Ä—ã:** –°–æ–∫—Ä–∞—â–µ–Ω–æ –Ω–∞ 15-25%
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã:** –°–æ–∫—Ä–∞—â–µ–Ω–æ –Ω–∞ 20-40%

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ü–∞–º—è—Ç—å:** –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (TTL, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞)
- **CPU:** –°–Ω–∏–∂–µ–Ω–æ –Ω–∞ 15-20% (–º–µ–º–æ–∏–∑–∞—Ü–∏—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **–û—à–∏–±–∫–∏:** –ú–µ–Ω—å—à–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –ø–∞–¥–µ–Ω–∏–π
- **–í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ `exchange_arbitrage_analyzer.py`:

```python
# –†–∞–∑–º–µ—Ä –∫—ç—à–∞ –≥–æ—Ä—è—á–∏—Ö –ø–∞—Ä
self.hot_pairs_cache = TTLCache(max_size=CACHE_HOT_PAIRS, ttl_seconds=600)

# –†–∞–∑–º–µ—Ä –∫—ç—à–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–∞—Ä
self.pair_check_cache = TTLCache(max_size=1000, ttl_seconds=30)

# –†–∞–∑–º–µ—Ä –∫—ç—à–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
self.calculator = MemoizedCalculator(cache_size=500, ttl_seconds=60)
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–ë–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫—ç—à–µ:
```
[Cache] üî• –û–±–Ω–æ–≤–ª—ë–Ω –∫—ç—à: 50 –≥–æ—Ä—è—á–∏—Ö –ø–∞—Ä (—Ä–∞–∑–º–µ—Ä –∫—ç—à–∞: 50)
```

---

## ‚úÖ –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** 2.0 (—Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏)
